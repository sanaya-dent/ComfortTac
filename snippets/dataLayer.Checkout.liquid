<script id="dataLayer-checkout">
  window.dataLayer = window.dataLayer || [];
  window.sgdAnalytics = {
    customerId: '{{customer.id}}',
    customerEmail: '{{checkout.email}}',
    pageType: "checkout - " + (window.Shopify.Checkout.isOrderStatusPage ? 'order status' : window.Shopify.Checkout.step)
  };
  
  {% if first_time_accessed %}
  window.sgdAnalytics.first_time_accessed = true;
  {% else %}
  window.sgdAnalytics.first_time_accessed = false;
  {% endif %}

  !function(){"use strict";function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function t(t){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?e(Object(c),!0).forEach((function(e){n(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):e(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function e(t,n){document.querySelectorAll(t).length<t.length?setTimeout(e.bind(null,t,n),50):n()};var c="thrasio-dl--tracked";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],c=document.createElement("style");c.type="text/css","top"===n&&o.firstChild?o.insertBefore(c,o.firstChild):o.appendChild(c),c.styleSheet?c.styleSheet.cssText=e:c.appendChild(document.createTextNode(e))}}(".thrasio-dl--tracked{box-sizing:border-box}");var r,i=function(e,t,n){e&&(e.classList.contains(c)||(e.addEventListener(t,n),e.classList.add(c)))},a=function(e){arguments[0].eventType="thrasio-dl",window.dataLayer.push.apply(window.dataLayer,arguments),window.dataLayer.push({event:"flush dataLayer",eventCategory:void 0,eventLabel:void 0,ecommerce:void 0,attributes:void 0,eventType:void 0})},u=function(){return{total:Shopify.Checkout.estimated_price,step:Shopify.Checkout.step}},l=function(){var e=document.getElementById("continue_button");i(e,"click",(function(){var n=e.querySelector(".btn__content").textContent;a({event:"click",eventCategory:"checkout",eventLabel:n,attributes:t({},u())})}));var n=document.querySelector(".step__footer__previous-link");i(n,"click",(function(){var e=n.querySelector(".step__footer__previous-link-content").textContent;a({event:"click",eventCategory:"checkout",eventLabel:e,attributes:t({},u())})})),document.querySelectorAll(".review-block__link").forEach((function(e){i(e,"click",(function(){a({event:"click",eventCategory:"checkout",eventLabel:e.querySelector(".visually-hidden").textContent,attributes:t({},u())})}))})),document.querySelectorAll(".breadcrumb__link").forEach((function(e){i(e,"click",(function(){a({event:"click",eventCategory:"checkout",eventLabel:e.textContent,attributes:t({},u())})}))})),i(document.querySelector(".order-summary-toggle__text"),"click",(function(){a({event:"click",eventCategory:"checkout",eventLabel:"Show order summary",attributes:t({},u())})})),function(){document.querySelectorAll("[data-reduction-form] .edit_checkout button.field__input-btn").forEach((function(e){i(e,"click",(function(){a({event:"apply discount",eventCategory:"checkout",eventLabel:document.querySelector("#checkout_reduction_code").value,attributes:t({},u())})}))}));var e=document.querySelector('button[type="submit"].tag__button');i(e,"click",(function(){a({event:"remove discount",eventCategory:"checkout",eventLabel:e.parentNode.querySelector(".reduction-code__text").textContent,attributes:t({},u())})}))}(),"contact_information"===window.Shopify.Checkout.step?function(){var e=document.querySelector(".section--contact-information a");i(e,"click",(function(){a({event:"click",eventCategory:"checkout",eventLabel:"log in",attributes:t({},u())})}));var n=function(e){i(e,"change",(function(e){var n=document.querySelector('label[for="'.concat(e.target.getAttribute("id"),'"], span#').concat(e.target.getAttribute("aria-labelledby")));a({event:e.target.checked?"accept marketing":"decline marketing",eventCategory:"checkout",eventLabel:n.textContent.trim(),attributes:t({},u())})}))};document.querySelectorAll("#checkout_buyer_accepts_marketing").forEach(n),o(['input[name="ps_accepts_sms"]'],(function(){document.querySelectorAll('input[name="ps_accepts_sms"]').forEach(n)})),o(['[data-shopify-buttoncontainer] [data-testid="grid-cell"]'],(function(){document.querySelectorAll('[data-shopify-buttoncontainer] [data-testid="grid-cell"]').forEach((function(e){var n=e.querySelector('div[role="button"], button[type="submit"]');i(n,"click",(function(){a({event:"express checkout",eventCategory:"checkout",eventLabel:n.textContent.trim(),attributes:t({},u())})}))}))})),new MutationObserver((function(){})).observe(document.querySelector(".main__content"),{childList:!0})}():"shipping_method"===window.Shopify.Checkout.step?document.querySelectorAll('input[name="checkout[shipping_rate][id]"]').forEach((function(e){i(e,"change",(function(e){var n=e.target.getAttribute("id"),o=document.querySelector('label[for="'.concat(n,'"]'));if(o){var c=o.querySelector("[data-shipping-method-label-title]").dataset.shippingMethodLabelTitle;a({event:"select shipping method",eventCategory:"checkout",eventLabel:c,attributes:t({},u())})}}))})):"payment_method"===window.Shopify.Checkout.step&&function(){document.querySelectorAll('input[name="checkout[payment_gateway]"]').forEach((function(e){i(e,"change",(function(e){var n=e.target.getAttribute("id"),o=document.querySelector('label[for="'.concat(n,'"]'));if(o){var c=o.textContent.trim();a({event:"select payment method",eventCategory:"checkout",eventLabel:c,attributes:t({},u())})}}))})),document.querySelectorAll('input[name="checkout[different_billing_address]"]').forEach((function(e){i(e,"change",(function(e){var n=e.target.getAttribute("id"),o=document.querySelector('label[for="'.concat(n,'"]'));if(o){var c=o.textContent.trim();a({event:"toggle billing address",eventCategory:"checkout",eventLabel:c,attributes:t({},u())})}}))}));var e=document.querySelector('input[name="checkout[remember_me]"].input-checkbox');i(e,"change",(function(e){a({event:"remember me",eventCategory:"checkout",eventLabel:e.target.checked,attributes:t({},u())})}))}()};r=function(){l(),new MutationObserver(l).observe(document.querySelector(".main__content"),{childList:!0})},"loading"!==document.readyState?r():document.addEventListener?document.addEventListener("DOMContentLoaded",r):document.attachEvent("onreadystatechange",(function(){"loading"!==document.readyState&&r()}))}();

</script>